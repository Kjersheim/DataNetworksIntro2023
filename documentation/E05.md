# Documentation for E05

## Plan
- [ ] Add additional lubuntu and router VM
- [ ] Plan addresses and update charts, logical and physical
- [ ] Configure RouterB
- [ ] Configure Lubuntu3
- [ ] Change ip configuration to DHCP on all lubuntus
- [ ] Topology charts
	- [ ] Physical
	- [ ] Logical


## Chosing subnets
From E03, chosing the subnets used for the new devices in the network:


$`\textcolor{limegreen}{ \text{192.168.39.128/26 - 62 avaliable host-addresses subnet - between Lubuntu3 and RouterB}\  } `$
$`\textcolor{navyblue}{ \text{10.8.83.240/30 - 2 avaliable host-addresses subnet - between RouterA and RouterB}\  } `$


### Physical topology draft

![](/documentation/E05/CutoutNewAdditionsPhysical.png)

### Logical topology draft

![](/documentation/E05/CutoutNewAdditionsLogical.png)


At this point I have now made additions in both charts, and cloned a new lubuntu machine and a new router - both with new MAC-addresses.

- [x] Add additional lubuntu and router VM
- [x] Plan addresses and update charts, logical and physical

# Configuring new devices

## Vyos Router A and B

### Router A
After the routers first boot up I initially change its name to vyos-router-b. 
 
At the same time I also change the other router that was named vyos-router-1 to vyos-router-a - for similar naming convention.

![](/documentation/E05/RouterNameChange.png)

On router A I added a new adapter during the setup, which I linked to the new internal network named "RoToRo", adapter 2. Checking configurations on the router shows that this new adapter has gotten the eth1 interface. This corresponds with the VM settings of newly added adapter. 

![](/documentation/E05/RouterAeth1.png)![](/documentation/E05/RouterASettingsNewAdapter.png)


Initially I debate if I needed to somehow connect the new router to an existing or new VLAN. Though as the material state, its such a minimal net and we will not fit other devices within this subnet, so its a router to router subnet where I dont need to add a separate VLAN. Deleting the question of new VLAN from my physical topology draft. 
Giving the new interface on router A an ip address:

![](/documentation/E05/RouterAeth1Address.png)

### Router B

showing interfaces on Vyos Router B:

![](/documentation/E05/RouterBInterfaces.png)

Comparing that to the adapter settings to distinquish which interface goes where.

![](/documentation/E05/RouterBAdapter1.png) | ![](/documentation/E05/RouterBAdapter2.png)

With this information I update the physical topology with interface and MAC addresses, and also add the interfaces to the logical topology. I do notice that for some reason my first router uses interfaces eth0 and eth1, while the second router uses interfaces eth1 and eth2. At this point Im not quite sure why, as so far the setup have been the same. 

![](/documentation/E05/InconsistentInterfacesRouters.png)

Based on the updated logical topology I add the addresses manually to Vyos Router B:

![](/documentation/E05/RouterBeth1_2_ip.png)
