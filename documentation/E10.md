# Documentation for E10

# IPv4 Network Address Translation

### Initial reflection
```
Going through the first materials on the subject discussing NAT. When being introduced with this, I immidiately was thinking that would it not just be as if the traffic was routed to the gateway/router, and that an interface on the router
was connected to the ISP subnet aka. connected to the open internet. Further on - why does it need to be translated? Does not the interface have its own address anyway? Could the router not store the information that each user
on my subnet was requesting through the router and the internet? 

On that note, I remembered an old issue dealing with ISP IP and phone logs. It is about 10 years since I first heard the term "NAT". Back at the time, we were already investigating various IP-addresses on a daily basis. By speaking to contacts within the ISPs, 
I was told that it was impossible to identify the user of a certain IP-address, due to the address being a NAT-address. When trying to get an explanation about this - seeing I had never had any experience with networking, I was told that due to the lack of IPv4 addresses, 
the ISP made the users share the same. This specially occured on mobile-devices at the time. The ISP/operator would have a server translating the addresses and having x amount of devices connected to it. When device x.1 wanted access to the internet, it gave the devices an address. 
Shortly after, device x.1 did no longer need access, but device x.2 did. The server switched the addresses so x.2 would now have the address x.1 had a short second ago. So within a few minutes, several devices would have used the same IP. 

If we imagine that the different devices x on the mobile basestation is the devices in our home network, each device will send information to the router, and the router would use the same address to reach outside our home network to the internet with the different sources in our home network. 

(On a sidenote: we did eventually realize that the ISP according to the laws in Norway also would need to have logs of this exchange of addresses and the subscribers, since they charged their subscribers money. So after discussing this with the ISP/Operator, we were often given
the logs and then tactically filtered the users of the IP based on other kinds of information)
```

## Plan

- [ ] Delete firewall configured in E09
- [ ] Configuring NAT
	- [ ] Visualize subnets to take account for in NAT
	- [ ] Configure Many-to-1
- [ ] Investigating traffic
	- [ ] Commands
	- [ ] Wireshark


# Firewall removal

I go through my router 3 which was where the firewall was located. I remove all rulesets, and all policy-zones.

> delete firewall name LAN_to_WAN

Then repeating the above for all firewall names, LAN_to_vyos, vyos_to_LAN etc. After that I deleted all the zones.

> delete zone-policy zone LAN   (and WAN, then vyos)

- [x] Delete firewall configured in E09
