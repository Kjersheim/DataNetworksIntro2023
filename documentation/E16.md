# IPv6 - Making things Dual-Stack

# Plan

- [ ] Form IPv6 addresses
- [ ] Assign addresses to topology
	- [ ] Lubuntus
	- [ ] Routers
	- [ ] Switches
- [ ] Add dynamic routing, OSPFv3
- [ ] Verification and connectivity

# Forming IPv6 addresses

*Student no. 2208339  // vvxyzki*

From the above number I formt he address 2001:2208:339:<subnets>::/64, Which can described as:

>![](/documentation/E16/IPv6address.png)

This means I have 2001:2208:339:0::/64 to 2001:2208:339:ffff::/64 avaliable for my network within this main subnet, 2001:2208:339::/48.

As the standard suggested size of a subnet is /64 on IPv6, I plan that size on the workstation subnets around the network. When it comes 
to the network devices, as mentioned in the materials there is an ongoing discussion weather or not to use minimal sized subnets, which would be /127. 

From my understanding, there are plenty of addreses, and despite feeling wasteful it might be fine to select /64 also for my network devices. As stated on multiple forums
and portals such as StackExchange, /127 is possible with a P2P network where there will ever only be 2 hosts, the two peers, since there are no broadcast addresses and such like
we have in IPv4. 

However, as some vendor equipment seems to in some instances not allow that size. Using a /127 size address may be harmful if the subnet router is has an anycast address implemented.

Althoguh, being able to quickly identify or visualize the type of address is favourable in my mind, so I chose to set the subnet size for network devices to /126. 
The exception will be the subnet giving addresses to the switches, which I want to be able to expand without changing major parts of the configuration, so I will set that to the standard /64.
Loopback addresses will be set to /128, and using the same ID as the IPv4 equivalent for convenience sake.

>![](/documentation/E16/E16IPv6PlanningChart.png)










## Notes
```	
- Can be shortened once with a double colon:
2010:2222:0000:0005:0000:0000:0000:0002 to 2010:2222:0000:0005::2

0's can be omitted, but - if the whole 4 hex field is 0000 it needs to be added as 0 total value.

IPv6 subnets must have a minimum size of 64. It is impossible to create a subnet larger than the VPC with which they are created. 
This is important for two reasons. The first advantage of this approach is that it allows for the consolidation of multiple subnets. 
The second benefit is that subnets can be connected to other subnets without causing fragmentation. 

IPv6 links must have at least 1280 octets in order to run at the MTU. For IPv6 links, a value of 1500 octets should be used. 
When a path MTU discovery is made on an ICMPv6 device, the MTU cache containing ICMPv6 messages with too big values is accessed. 
This ensures that IPv6 traffic is sent over an interface rather than over a MTU that is smaller.

```	

